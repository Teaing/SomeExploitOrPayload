#!/usr/bin/env python
# -*- coding: utf-8 -*-
# Author:Tea

import base64
import urllib2


def auth(ipAddress, port, url='manager/status'):
    userName = 'admin'
    passWord = 'admin'

    reqUrl = 'http://{0}:{1}/{2}'.format(ipAddress, port, url)
    print reqUrl

    base64string = base64.encodestring('%s:%s' % (userName, passWord))[:-1]  # delete '\n'
    authHeader = "Basic %s" % base64string

    req = urllib2.Request(reqUrl)
    req.add_header("Authorization", authHeader)
    try:
        urllib2.urlopen(req)
        print '{0}\t{1}\tFound!'.format(userName, passWord)
    except urllib2.HTTPError, e:
        print e.code


ip = '127.0.0.1'
port = 7080
auth(ip, port)
